CC=gcc

all: static shared clean

static:
	$(CC) -c library.c
	ar rcs library.a library.o
	$(CC) -c main.c
	$(CC) main.o library.a -o main

shared:
	$(CC) -fPIC -c library.c
	$(CC) -fPIC -shared -o library.so library.o

clean:
	rm -f *.o

run:
	./main 80 compare_pairs files/big_diff/file0A.txt:files/big_diff/file0B.txt files/big_diff/file1A.txt:files/big_diff/file1B.txt files/big_diff/file2A.txt:files/big_diff/file2B.txt files/big_diff/file3A.txt:files/big_diff/file3B.txt files/big_diff/file4A.txt:files/big_diff/file4B.txt files/big_diff/file5A.txt:files/big_diff/file5B.txt files/big_diff/file6A.txt:files/big_diff/file6B.txt files/big_diff/file7A.txt:files/big_diff/file7B.txt files/big_diff/file8A.txt:files/big_diff/file8B.txt files/big_diff/file9A.txt:files/big_diff/file9B.txt files/big_diff/file10A.txt:files/big_diff/file10B.txt files/big_diff/file11A.txt:files/big_diff/file11B.txt files/big_diff/file12A.txt:files/big_diff/file12B.txt files/big_diff/file13A.txt:files/big_diff/file13B.txt files/big_diff/file14A.txt:files/big_diff/file14B.txt files/big_diff/file15A.txt:files/big_diff/file15B.txt files/big_diff/file16A.txt:files/big_diff/file16B.txt files/big_diff/file17A.txt:files/big_diff/file17B.txt files/big_diff/file18A.txt:files/big_diff/file18B.txt files/big_diff/file19A.txt:files/big_diff/file19B.txt files/big_diff/file20A.txt:files/big_diff/file20B.txt files/big_diff/file21A.txt:files/big_diff/file21B.txt files/big_diff/file22A.txt:files/big_diff/file22B.txt files/big_diff/file23A.txt:files/big_diff/file23B.txt files/big_diff/file24A.txt:files/big_diff/file24B.txt files/big_diff/file25A.txt:files/big_diff/file25B.txt files/big_diff/file26A.txt:files/big_diff/file26B.txt files/big_diff/file27A.txt:files/big_diff/file27B.txt files/big_diff/file28A.txt:files/big_diff/file28B.txt files/big_diff/file29A.txt:files/big_diff/file29B.txt files/big_diff/file30A.txt:files/big_diff/file30B.txt files/big_diff/file31A.txt:files/big_diff/file31B.txt files/big_diff/file32A.txt:files/big_diff/file32B.txt files/big_diff/file33A.txt:files/big_diff/file33B.txt files/big_diff/file34A.txt:files/big_diff/file34B.txt files/big_diff/file35A.txt:files/big_diff/file35B.txt files/big_diff/file36A.txt:files/big_diff/file36B.txt files/big_diff/file37A.txt:files/big_diff/file37B.txt files/big_diff/file38A.txt:files/big_diff/file38B.txt files/big_diff/file39A.txt:files/big_diff/file39B.txt files/big_diff/file40A.txt:files/big_diff/file40B.txt files/big_diff/file41A.txt:files/big_diff/file41B.txt files/big_diff/file42A.txt:files/big_diff/file42B.txt files/big_diff/file43A.txt:files/big_diff/file43B.txt files/big_diff/file44A.txt:files/big_diff/file44B.txt files/big_diff/file45A.txt:files/big_diff/file45B.txt files/big_diff/file46A.txt:files/big_diff/file46B.txt files/big_diff/file47A.txt:files/big_diff/file47B.txt files/big_diff/file48A.txt:files/big_diff/file48B.txt files/big_diff/file49A.txt:files/big_diff/file49B.txt files/big_diff/file50A.txt:files/big_diff/file50B.txt files/big_diff/file51A.txt:files/big_diff/file51B.txt files/big_diff/file52A.txt:files/big_diff/file52B.txt files/big_diff/file53A.txt:files/big_diff/file53B.txt files/big_diff/file54A.txt:files/big_diff/file54B.txt files/big_diff/file55A.txt:files/big_diff/file55B.txt files/big_diff/file56A.txt:files/big_diff/file56B.txt files/big_diff/file57A.txt:files/big_diff/file57B.txt files/big_diff/file58A.txt:files/big_diff/file58B.txt files/big_diff/file59A.txt:files/big_diff/file59B.txt files/big_diff/file60A.txt:files/big_diff/file60B.txt files/big_diff/file61A.txt:files/big_diff/file61B.txt files/big_diff/file62A.txt:files/big_diff/file62B.txt files/big_diff/file63A.txt:files/big_diff/file63B.txt files/big_diff/file64A.txt:files/big_diff/file64B.txt files/big_diff/file65A.txt:files/big_diff/file65B.txt files/big_diff/file66A.txt:files/big_diff/file66B.txt files/big_diff/file67A.txt:files/big_diff/file67B.txt files/big_diff/file68A.txt:files/big_diff/file68B.txt files/big_diff/file69A.txt:files/big_diff/file69B.txt files/big_diff/file70A.txt:files/big_diff/file70B.txt files/big_diff/file71A.txt:files/big_diff/file71B.txt files/big_diff/file72A.txt:files/big_diff/file72B.txt files/big_diff/file73A.txt:files/big_diff/file73B.txt files/big_diff/file74A.txt:files/big_diff/file74B.txt files/big_diff/file75A.txt:files/big_diff/file75B.txt files/big_diff/file76A.txt:files/big_diff/file76B.txt files/big_diff/file77A.txt:files/big_diff/file77B.txt files/big_diff/file78A.txt:files/big_diff/file78B.txt files/big_diff/file79A.txt:files/big_diff/file79B.txt 